---
import type { Author } from "../types/types";

interface Props {
  authors: Author[];
}

const { authors } = Astro.props;

// Create a mapping of institutions to indices
const institutionMap = new Map();
let institutionIndex = 1;
const authorsWithIndices = authors.map((author) => {
  if (!institutionMap.has(author.institution)) {
    institutionMap.set(author.institution, institutionIndex);
    institutionIndex++;
  }
  return {
    ...author,
    institutionIndex: institutionMap.get(author.institution),
  };
});

// Extract institution names and their indices
const institutions = Array.from(institutionMap.entries());
---
<style>
  /* Set Google Sans font for the entire component */
  .custom-font {
    font-family: 'Google Sans', sans-serif;
  }

  /* Style for author name */
  .author-name {
    color: hsl(204, 86%, 53%) !important;
    font-family: 'Google Sans', sans-serif;
    font-size: 1.2rem;
    font-weight: normal; /* No bold */
  }

  /* Hover effect for author name */
  .author-name:hover {
    text-decoration: underline;
  }

  /* Style for superscript to reduce space */
  .superscript {
    font-size: 0.8rem;
    vertical-align: super;
    margin-left: 0.2rem; /* Adjust the distance between author name and superscript */
  }

  /* Styling for institutions displayed in a row */
  .institution-list {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    justify-content: center;
    margin-top: 2rem;
  }

  .institution {
    font-family: 'Google Sans', sans-serif;
    font-size: 1.2rem;
    display: flex;
    align-items: center;
  }

  .institution-index {
    font-size: 0.8rem;
    color: #888;
    vertical-align: super;
    margin-right: 0.5rem;
  }
</style
